2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | main:1656 | ======================================================================
2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | main:1657 | ğŸš€ ULTIMATE FTMO TRADING BOT V7.0 BAÅLATILIYOR...
2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | main:1658 | ğŸ“‹ Mod: BACKTEST
2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | main:1659 | ğŸ“… YÄ±l AralÄ±ÄŸÄ±: 2020-2024
2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | main:1660 | ======================================================================
2025-11-06 12:52:06,500 | FTMO_Bot_V7 | INFO | __init__:125 | ğŸ’° RightsManager: Daily budget $5000.00
2025-11-06 12:52:06,508 | FTMO_Bot_V7 | INFO | _load_all_ranges:211 | ğŸ“ˆ EURUSD Weekly Ranges: avg=0.0 pips, p95=0.0 pips
2025-11-06 12:52:06,513 | FTMO_Bot_V7 | INFO | _load_all_ranges:211 | ğŸ“ˆ GBPUSD Weekly Ranges: avg=0.0 pips, p95=0.1 pips
2025-11-06 12:52:06,519 | FTMO_Bot_V7 | INFO | _load_all_ranges:211 | ğŸ“ˆ USDJPY Weekly Ranges: avg=2.2 pips, p95=4.6 pips
2025-11-06 12:52:06,622 | FTMO_Bot_V7 | ERROR | _load_news_calendar:289 | âŒ News calendar yÃ¼klenemedi: 'time'
2025-11-06 12:52:06,671 | FTMO_Bot_V7 | INFO | _initialize_bot:576 | ğŸ“± Telegram bot baÅŸlatÄ±ldÄ±.
2025-11-06 12:52:08,486 | FTMO_Bot_V7 | INFO | backtest:1413 | ğŸ“Š BACKTEST: 2020-2024
2025-11-06 12:52:08,486 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1390 | ğŸš€ Sistem baÅŸlatÄ±lÄ±yor...
2025-11-06 12:52:08,486 | FTMO_Bot_V7 | INFO | load_data:669 | ğŸ“‚ Veri yÃ¼kleniyor: 2020-2024
2025-11-06 12:52:08,486 | FTMO_Bot_V7 | INFO | load_data:674 | ğŸ” EURUSD: KlasÃ¶r kontrol ediliyor: /Users/serkanozturk/Desktop/JTTWS/data/EURUSD2003-2024
2025-11-06 12:52:08,488 | FTMO_Bot_V7 | INFO | load_data:683 | ğŸ“ EURUSD: 8 CSV dosyasÄ± bulundu
2025-11-06 12:52:08,488 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2006-01.01.2009.csv
2025-11-06 12:52:08,563 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2009-01.01.2012.csv
2025-11-06 12:52:08,626 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2012-01.01.2015.csv
2025-11-06 12:52:08,701 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2015-01.01.2018.csv
2025-11-06 12:52:08,776 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv
2025-11-06 12:52:08,851 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… EURUSD_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv: 35220 bars (2020-2021)
2025-11-06 12:52:08,851 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2021-01.01.2024.csv
2025-11-06 12:52:08,928 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… EURUSD_Candlestick_15_M_BID_01.01.2021-01.01.2024.csv: 105216 bars (2020-2024)
2025-11-06 12:52:08,928 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_01.01.2024-31.12.2024.csv
2025-11-06 12:52:08,947 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… EURUSD_Candlestick_15_M_BID_01.01.2024-31.12.2024.csv: 25292 bars (2023-2024)
2025-11-06 12:52:08,947 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: EURUSD_Candlestick_15_M_BID_05.05.2003-01.01.2006.csv
2025-11-06 12:52:09,020 | FTMO_Bot_V7 | INFO | load_data:734 |   âš™ï¸  EURUSD: 165536 bars, 1H'a resample ediliyor...
2025-11-06 12:52:09,032 | FTMO_Bot_V7 | INFO | load_data:745 |   âœ… Resample: 41384 bars (1H)
2025-11-06 12:52:09,032 | FTMO_Bot_V7 | INFO | load_data:748 | âœ… EURUSD: 41384 bars (2020-2024)
2025-11-06 12:52:09,032 | FTMO_Bot_V7 | INFO | load_data:674 | ğŸ” GBPUSD: KlasÃ¶r kontrol ediliyor: /Users/serkanozturk/Desktop/JTTWS/data/GBPUSD2003-2024
2025-11-06 12:52:09,034 | FTMO_Bot_V7 | INFO | load_data:683 | ğŸ“ GBPUSD: 8 CSV dosyasÄ± bulundu
2025-11-06 12:52:09,034 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2006-01.01.2009.csv
2025-11-06 12:52:09,112 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2009-01.01.2012.csv
2025-11-06 12:52:09,194 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2012-01.01.2015.csv
2025-11-06 12:52:09,273 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2015-01.01.2018.csv
2025-11-06 12:52:09,352 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv
2025-11-06 12:52:09,405 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… GBPUSD_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv: 24440 bars (2020-2021)
2025-11-06 12:52:09,405 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2021-01.01.2024.csv
2025-11-06 12:52:09,481 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… GBPUSD_Candlestick_15_M_BID_01.01.2021-01.01.2024.csv: 105216 bars (2020-2024)
2025-11-06 12:52:09,481 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_01.01.2024-31.12.2024.csv
2025-11-06 12:52:09,508 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… GBPUSD_Candlestick_15_M_BID_01.01.2024-31.12.2024.csv: 35136 bars (2023-2024)
2025-11-06 12:52:09,508 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: GBPUSD_Candlestick_15_M_BID_05.05.2003-31.12.2005.csv
2025-11-06 12:52:09,578 | FTMO_Bot_V7 | INFO | load_data:734 |   âš™ï¸  GBPUSD: 164612 bars, 1H'a resample ediliyor...
2025-11-06 12:52:09,589 | FTMO_Bot_V7 | INFO | load_data:745 |   âœ… Resample: 41153 bars (1H)
2025-11-06 12:52:09,589 | FTMO_Bot_V7 | INFO | load_data:748 | âœ… GBPUSD: 41153 bars (2020-2024)
2025-11-06 12:52:09,589 | FTMO_Bot_V7 | INFO | load_data:674 | ğŸ” USDJPY: KlasÃ¶r kontrol ediliyor: /Users/serkanozturk/Desktop/JTTWS/data/USDJPY2003-2024
2025-11-06 12:52:09,590 | FTMO_Bot_V7 | INFO | load_data:683 | ğŸ“ USDJPY: 8 CSV dosyasÄ± bulundu
2025-11-06 12:52:09,590 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2006-01.01.2009.csv
2025-11-06 12:52:09,664 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2009-01.01.2012.csv
2025-11-06 12:52:09,740 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2012-01.01.2015.csv
2025-11-06 12:52:09,815 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2015-01.01.2018.csv
2025-11-06 12:52:09,892 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv
2025-11-06 12:52:09,971 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… USDJPY_Candlestick_15_M_BID_01.01.2018-01.01.2021.csv: 35220 bars (2020-2021)
2025-11-06 12:52:09,971 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2021-01.01.2023.csv
2025-11-06 12:52:10,025 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… USDJPY_Candlestick_15_M_BID_01.01.2021-01.01.2023.csv: 70176 bars (2020-2023)
2025-11-06 12:52:10,025 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_01.01.2023-31.12.2024.csv
2025-11-06 12:52:10,081 | FTMO_Bot_V7 | INFO | load_data:714 |   âœ… USDJPY_Candlestick_15_M_BID_01.01.2023-31.12.2024.csv: 70176 bars (2022-2024)
2025-11-06 12:52:10,081 | FTMO_Bot_V7 | INFO | load_data:691 |   ğŸ” Ä°nceleniyor: USDJPY_Candlestick_15_M_BID_05.05.2003-01.01.2006.csv
2025-11-06 12:52:10,153 | FTMO_Bot_V7 | INFO | load_data:734 |   âš™ï¸  USDJPY: 175380 bars, 1H'a resample ediliyor...
2025-11-06 12:52:10,168 | FTMO_Bot_V7 | INFO | load_data:745 |   âœ… Resample: 43845 bars (1H)
2025-11-06 12:52:10,168 | FTMO_Bot_V7 | INFO | load_data:748 | âœ… USDJPY: 43845 bars (2020-2024)
2025-11-06 12:52:10,169 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1397 | âš™ï¸  EURUSD iÃ§in feature'lar hesaplanÄ±yor...
2025-11-06 12:52:10,200 | FTMO_Bot_V7 | INFO | __init__:1245 | ğŸ¤– DQN Device: cpu
2025-11-06 12:52:10,750 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1409 | âœ… EURUSD hazÄ±r: 29719 bars, state_size=23
2025-11-06 12:52:10,750 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1397 | âš™ï¸  GBPUSD iÃ§in feature'lar hesaplanÄ±yor...
2025-11-06 12:52:10,776 | FTMO_Bot_V7 | INFO | __init__:1245 | ğŸ¤– DQN Device: cpu
2025-11-06 12:52:10,779 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1409 | âœ… GBPUSD hazÄ±r: 29608 bars, state_size=23
2025-11-06 12:52:10,780 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1397 | âš™ï¸  USDJPY iÃ§in feature'lar hesaplanÄ±yor...
2025-11-06 12:52:10,806 | FTMO_Bot_V7 | INFO | __init__:1245 | ğŸ¤– DQN Device: cpu
2025-11-06 12:52:10,808 | FTMO_Bot_V7 | INFO | load_data_and_initialize:1409 | âœ… USDJPY hazÄ±r: 31051 bars, state_size=23
2025-11-06 12:52:10,809 | FTMO_Bot_V7 | INFO | backtest:1419 | 
============================================================
ğŸ” EURUSD Backtest BaÅŸlÄ±yor...
============================================================
2025-11-06 12:52:25,710 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 1000/29718, Balance: $99881.59
2025-11-06 12:52:42,225 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 2000/29718, Balance: $100261.64
2025-11-06 12:52:58,654 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 3000/29718, Balance: $99752.34
2025-11-06 12:53:15,797 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 4000/29718, Balance: $99649.12
2025-11-06 12:53:33,167 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 5000/29718, Balance: $99558.68
2025-11-06 12:53:50,009 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 6000/29718, Balance: $99080.65
2025-11-06 12:54:07,517 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 7000/29718, Balance: $99254.01
2025-11-06 12:54:25,235 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 8000/29718, Balance: $99077.36
2025-11-06 12:54:42,868 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 9000/29718, Balance: $98908.19
2025-11-06 12:55:00,168 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 10000/29718, Balance: $98910.39
2025-11-06 12:55:16,431 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 11000/29718, Balance: $99084.06
2025-11-06 12:55:32,804 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 12000/29718, Balance: $99176.19
2025-11-06 12:55:49,128 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 13000/29718, Balance: $98905.81
2025-11-06 12:56:05,922 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 14000/29718, Balance: $99266.76
2025-11-06 12:56:22,209 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 15000/29718, Balance: $99290.38
2025-11-06 12:56:39,624 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 16000/29718, Balance: $98884.14
2025-11-06 12:56:56,212 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 17000/29718, Balance: $98998.37
2025-11-06 12:57:12,979 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 18000/29718, Balance: $99217.10
2025-11-06 12:57:29,795 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 19000/29718, Balance: $98987.15
2025-11-06 12:57:47,797 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 20000/29718, Balance: $99022.13
2025-11-06 12:58:05,446 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 21000/29718, Balance: $98760.03
2025-11-06 12:58:23,225 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 22000/29718, Balance: $98459.90
2025-11-06 12:58:39,529 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 23000/29718, Balance: $98708.65
2025-11-06 12:58:55,361 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 24000/29718, Balance: $98759.19
2025-11-06 12:59:13,068 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 25000/29718, Balance: $98719.89
2025-11-06 12:59:30,299 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 26000/29718, Balance: $98854.14
2025-11-06 12:59:46,843 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 27000/29718, Balance: $98979.04
2025-11-06 13:00:03,448 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 28000/29718, Balance: $98960.21
2025-11-06 13:00:20,299 | FTMO_Bot_V7 | INFO | backtest:1443 |   Step 29000/29718, Balance: $98824.65
2025-11-06 13:00:31,536 | FTMO_Bot_V7 | INFO | backtest:1450 | 
============================================================
2025-11-06 13:00:31,536 | FTMO_Bot_V7 | INFO | backtest:1451 | âœ… EURUSD Backtest TamamlandÄ±!
2025-11-06 13:00:31,536 | FTMO_Bot_V7 | INFO | backtest:1452 |    ğŸ’° Final Balance: $98533.87
2025-11-06 13:00:31,536 | FTMO_Bot_V7 | INFO | backtest:1453 |    ğŸ“ˆ Total Profit: $-1466.13
2025-11-06 13:00:31,536 | FTMO_Bot_V7 | INFO | backtest:1454 |    ğŸ”¢ Total Trades: 1673
2025-11-06 13:00:31,538 | FTMO_Bot_V7 | INFO | backtest:1459 |    ğŸ¯ Win Rate: 38.5%
2025-11-06 13:00:31,538 | FTMO_Bot_V7 | INFO | backtest:1461 | ============================================================

2025-11-06 13:00:31,538 | FTMO_Bot_V7 | ERROR | main:1680 | 

âŒ HATA: 'datetime'
Traceback (most recent call last):
  File "/Users/serkanozturk/Desktop/JTTWS/venv/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'datetime'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/serkanozturk/Desktop/JTTWS/ultimate_bot_v7_professional.py", line 1668, in main
    system.backtest(args.start_year, args.end_year)
  File "/Users/serkanozturk/Desktop/JTTWS/ultimate_bot_v7_professional.py", line 1468, in backtest
    'entry_time': env.df.iloc[trade.get('entry_step', 0)]['datetime'] if 'entry_step' in trade else datetime.now(),
  File "/Users/serkanozturk/Desktop/JTTWS/venv/lib/python3.10/site-packages/pandas/core/series.py", line 1133, in __getitem__
    return self._get_value(key)
  File "/Users/serkanozturk/Desktop/JTTWS/venv/lib/python3.10/site-packages/pandas/core/series.py", line 1249, in _get_value
    loc = self.index.get_loc(label)
  File "/Users/serkanozturk/Desktop/JTTWS/venv/lib/python3.10/site-packages/pandas/core/indexes/base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'datetime'
2025-11-06 13:00:31,544 | FTMO_Bot_V7 | INFO | main:1684 | ======================================================================
2025-11-06 13:00:31,544 | FTMO_Bot_V7 | INFO | main:1685 | ğŸ BOT DURDURULDU
2025-11-06 13:00:31,544 | FTMO_Bot_V7 | INFO | main:1686 | ======================================================================
